<div class="wrapper">
  <div id="policy" class="policy2 {{Pgrow ? 'Pgrow' :'Pgrow Pshrink'}}" >
      <div class="row1">

        <div class="item2" style="flex: 1; ">
          <p id="title" style="font-size: 28px;"> AC-N.01</p>
        </div>

        <div class="item2" style="flex: 1; ">
          <p id="title" style="font-size: 20px;"> Subtitle</p>
        </div>    

        <div class="item2" style="flex: 1; ">
          <p id="title" style="font-size: 20px;color: #06d6a0;">Status</p>
        </div>
      </div>

      <mat-tab-group>
        <mat-tab label="CMMC Information" style="overflow: none;">
          <p style="margin-top: 1%;" class="dditems">CMMC Number</p>
          <br>
          <p class="dditems">Capability Name</p>
          <br>
          <p class="dditems">Capability Number</p>
          <br>
          <p class="dditems">Practice</p>
          <br>
          <p class="dditems">Clarification</p>
        </mat-tab>

        <mat-tab label="NIST Information">NIST Information</mat-tab>
        <mat-tab label="References">References</mat-tab>
        <mat-tab label="Guidelines">
          <app-guidelines-page>
          </app-guidelines-page>
        </mat-tab>

      </mat-tab-group>
  </div>
    

  <!--THIS IS THE STANDARDS LIST-->
  <div id="standard3" class="standard4 {{Sgrow ? 'Sgrow' :'Sgrow Sshrink'}}">

    <mat-list>
      <div class="flexContainer">
        <mat-list-item class="headerRow">
          <span class="listSpan idCol">
            Standard ID
          </span>
          <span class="listSpan descCol">
            Name
          </span>
        </mat-list-item>
      </div>
  
      <mat-list-item *ngFor="let standard of standards$ | async">
  
          <span class="listSpan idCol">
            {{ standard.idStandards }}    
            </span>
        <span class="listSpan descCol">
          {{standard.Standard}}
        </span>
  
  
  
       <span style="position: absolute; right: 0;">
          <button mat-icon-button>
            <mat-icon
              (click)="updateStandards(standard.id, userInput.value)"
              color="primary"
            >
              edit
            </mat-icon>
          </button>
  
      
          <button mat-icon-button>
            <mat-icon (click)="deleteStandards(standard.idStandards)" color="warn">
              delete
            </mat-icon>
          </button>
        </span> 
      </mat-list-item>
    </mat-list>
  
  </div>


  <div class ="editBar">
    <app-accordion-item *ngFor="let item of entries" 
      [entry]="item">
    </app-accordion-item> 
  </div>

  <!--THIS IS THE WEAKNESSES LIST-->
  <div
  cdkDropList
  id="weakness"
  class="weakness2 {{Wgrow ? 'Wgrow' :'Wgrow Wshrink'}}"

  [cdkDropListData]="weakness"
  [cdkDropListConnectedTo]="[control]"
  (cdkDropListDropped)="drop($event)"
  [cdkDropListEnterPredicate]="controlsToWeaknesses">

     
    <mat-list>
      <div class="flexContainer">
        <mat-list-item class="headerRow">
          <span class="idCol">
            Nudg ID
          </span>
          <span class="nameCol">
            Name
          </span>
          <span class="descCol">
            Description
          </span>
          <span class="dateCol">
            Status
          </span>
          <span class="dateCol2">
            Completion Date
          </span>
        </mat-list-item>
      </div>
  
      <mat-list-item class="dragdropbox" cdkDrag [cdkDragData]="weaknessElement" *ngFor="let weaknessElement of weaknesses$ | async">
    
          <span class="listSpan idCol" style="font-weight: bold;"
          >{{ weaknessElement.Nid }}    </span
        >
        <span class="listSpan nameCol" style="font-weight: bold;">
          {{weaknessElement.Wname}}
        </span>
  
        <span class="listSpan descCol" style="font-weight: bold;">
          {{weaknessElement.Wdescription}}
        </span>
  
        <span class="listSpan dateCol" style="font-weight: bold;">
          {{weaknessElement.Wstatus}}
        </span>

        <span class="listSpan dateCol2" style="font-weight: bold;">
          {{weaknessElement.WcompletionDate | date:'M/d/yy,   h:mm a'}}
        </span>



  
  
      <span style="position: absolute; right: 0;">
        <button mat-icon-button>
            <mat-icon
            (click)="openMilestones(weaknessElement.idOrgWeaknesses)"
            color="primary"
            >
            assignment
          </mat-icon>
        </button>




          <button mat-icon-button>
            <mat-icon
              (click)="updateWeaknesses(weaknessElement.idOrgWeaknesses, userInput.value)"
              color="primary"
            >
              edit
            </mat-icon>
          </button>
  
      
          <button mat-icon-button>
            <mat-icon (click)="deleteWeaknesses(weaknessElement.idOrgWeaknesses)" color="warn">
              delete
            </mat-icon>
          </button>
        </span> 
       
         
      </mat-list-item>
    </mat-list>
    
    
  </div>


    <!-- THIS IS THE CONTROLS LIST-->
    <div 
    id="control" 
    class="control2 {{Cgrow ? 'Cgrow' :'Cgrow Cshrink'}}"
    cdkDropList
    [cdkDropListData]="control"
    [cdkDropListConnectedTo]="[weakness]"
    (cdkDropListDropped)="drop($event)"
    [cdkDropListEnterPredicate]="weaknessesToControls">

    <mat-list>
      <div class="flexContainer">
        <mat-list-item class="headerRow">
          <span class="idCol">
            Nudg ID
          </span>
          <span class="nameCol">
            Name
          </span>
          <span class="descCol">
            Description
          </span>
          <span class="dateCol">
            Date
          </span>
        </mat-list-item>
      </div>

      <mat-list-item cdkDrag *ngFor="let controlElement of controls$ | async"  [cdkDragData]="controlElement">

        <span class="listSpan idCol" style="font-weight: bold;"
          >{{ controlElement.Nid }}    </span
        >
        <span class="listSpan nameCol" style="font-weight: bold;">
          {{controlElement.Cname}}
        </span>
        <span class="listSpan descCol" style="font-weight: bold;">
          {{controlElement.Coverview}}
        </span>
        <span class="listSpan dateCol" style="font-weight: bold;">
          {{controlElement.Cissuedate}}
        </span>



      <span style="position: absolute; right: 0;">
        <button mat-icon-button>
          <mat-icon
          (click)="openProcedures(controlElement.idOrgControls)"
          color="primary"
          >
          assignment
        </mat-icon>
      </button>


          <button mat-icon-button>
            <mat-icon
              (click)="updateControls(controlElement.idOrgControls, userInput.value)"
              color="primary"
            >
              edit
            </mat-icon>
          </button>

      
          <button mat-icon-button>
            <mat-icon (click)="deleteControls(controlElement.idOrgControls)" color="warn">
              delete
            </mat-icon>
          </button>
        </span> 
      </mat-list-item>
    </mat-list>

    </div>

</div>

